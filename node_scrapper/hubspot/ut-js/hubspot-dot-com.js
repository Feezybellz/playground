!function(){var e=[,function(e){e.exports={defaultAssets_moduleUsed:{name:"module-used",class:"view",namespace:"default-assets",properties:{accountId:{type:"number",isOptional:!0},contentId:{type:"string",isOptional:!0},language:{type:"string",isOptional:!0},path:{type:"string"},version:{type:"string",isOptional:!0}}},defaultAssets_impression:{name:"impression",class:"view",properties:{fileSource:{type:"string",isOptional:!0},duration:{type:"number",isOptional:!0},title:{type:"string",isOptional:!0},accountId:{type:"number",isOptional:!0},contentId:{type:"string",isOptional:!0},language:{type:"string",isOptional:!0},path:{type:"string"},version:{type:"string",isOptional:!0}},namespace:"default-assets"},defaultAssets_moduleInteraction:{name:"module-interaction",class:"interaction",properties:{action:{type:"string",isOptional:!0},fileSource:{type:"string",isOptional:!0},duration:{type:"number",isOptional:!0},title:{type:"string",isOptional:!0},accountId:{type:"number",isOptional:!0},contentId:{type:"string",isOptional:!0},language:{type:"string",isOptional:!0},path:{type:"string"},version:{type:"string",isOptional:!0}},namespace:"default-assets"},developerDocs_pageView:{name:"pageview",class:"view",properties:{screen:"string",subscreen:{type:"string",isOptional:!0}},namespace:"developer-docs"},helpCenter_pageView:{name:"pageview",class:"view",properties:{screen:"string"},namespace:"help-center"},helpCenter_pageInteraction:{name:"page interaction",class:"interaction",properties:{screen:"string",action:["resource category click","search filter added"],category:{type:"string",isOptional:!0},filter:{type:"string",isOptional:!0}},namespace:"help-center"},knowledgeBase_pageView:{name:"pageview",class:"view",properties:{screen:"string"},namespace:"knowledge-base"},knowledgeBase_pageInteraction:{name:"page interaction",class:"interaction",properties:{screen:"string",action:["breadcrumb nav item click","sidebar nav item click","resource category click","search filter added","related content item click","table of contents click","top nav item click"],category:{type:"string",isOptional:!0},filter:{type:"string",isOptional:!0},url:{type:"string",isOptional:!0}},namespace:"knowledge-base"},hubSpotDotCom_pageView:{name:"pageview",class:"view",namespace:"hubspot-dot-com",properties:{screen:{type:"string",isOptional:!0}}},hubSpotDotCom_interaction:{name:"interaction",class:"interaction",properties:{action:{type:"string",isOptional:!0},type:{type:"string",isOptional:!0},id:{type:"string",isOptional:!0},classNames:{type:"array",isOptional:!0},tabIndex:{type:"number",isOptional:!0},name:{type:"string",isOptional:!0},href:{type:"string",isOptional:!0},role:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},text:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"hubspot-dot-com"},hubSpotDotCom_formInputInteraction:{name:"form input interaction",class:"interaction",properties:{type:{type:"string",isOptional:!0},id:{type:"string",isOptional:!0},classNames:{type:"array",isOptional:!0},tabIndex:{type:"number",isOptional:!0},valueLabel:{type:"string",isOptional:!0},name:{type:"string",isOptional:!0},role:{type:"string",isOptional:!0},placeholder:{type:"string",isOptional:!0},label:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"hubspot-dot-com"},hubSpotDotCom_formInteraction:{name:"form interaction",class:"interaction",properties:{type:{type:"string",isOptional:!0},id:{type:"string",isOptional:!0},classNames:{type:"array",isOptional:!0},tabIndex:{type:"number",isOptional:!0},name:{type:"string",isOptional:!0},action:{type:"string",isOptional:!0},role:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},successful:{type:"boolean",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"hubspot-dot-com"},hubSpotDotCom_sectionView:{name:"section view",class:"view",properties:{section:{type:"string"},classNames:{type:"array",isOptional:!0},value:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"hubspot-dot-com"}}}],t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};e[r](a,a.exports,n);return a.exports}!function(){"use strict";function e(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}const t=["api","local","app","private","platform","tools","meetings"],r=["hubspotstarter","hubspotfree","hubspotemail"],o=["growth"],a={com:["hubspot","hubteam","grader","getsignals","getsidekick","gettally","hubspotemail","customer-hub","hubspotservicehub","hubspotquote","hubspotdocuments","hs-data-privacy"].join("|"),net:r.join("|"),org:o.join("|")},i=function e(n){const r=new RegExp(`^(?!local|test|selenium)(.*\\.)?(${Object.entries(a).map((([e,t])=>`(?:${t})(qa)?\\.${e}`)).join("|")}|(?:connect)\\.com|(?:connect)(qa)\\.co|wthubspot\\.(com|de|es|fr|jp))$`).test(n.hostname),o=new RegExp(`${Object.entries(a).map((([e,t])=>`(?:${t})qa\\.${e}`)).join("|")}|(?:connect)qa\\.co|wthubspot\\.(com|de|es|fr|jp)|hsqa-sales(?:crm)?-sub\\.com|(?:hubspotstarter|hubspotfree|hubspotemail)(qa)(?:-.*)\\.net|(?:hubspotemail)(qa)(?:-.*)\\.com`),i=[new RegExp(`^(?:${t.join("|")})-(.*).(?:hubspot|hubteam)(?:qa)?.com`),new RegExp("^(.*).(?:hubspotquote)(?:qa)?.com"),new RegExp("^app-(.*).(?:hubspotdocuments)(?:qa)?.com"),new RegExp("^(?:[0-9]+).(.*).hs(?:qa)?-sales(?:crm)?-sub.com"),new RegExp("^hs-(?:[0-9]+).s.(?:hubspotfree|hubspotstarter|hubspotemail)(?:qa)?-(.*).net"),new RegExp("^hs-(?:[0-9]+).s.(?:hubspotemail)(?:qa)?-(.*).com"),new RegExp("^t.sidekickopen(?:\\d)+-([a-z]+[0-9]).com"),new RegExp("^([a-z]+[0-9]).hs-data-privacy(?:qa)?.com")],s="ENV",c="Enviro error: the default argument for .get and .getShort is no longer supported",l=e=>{let t=window[e];if(null==t)try{t=window.sessionStorage.getItem(e)}catch(e){}if(null==t)try{t=window.localStorage.getItem(e)}catch(e){}return t},p=()=>{const e=l(s);return e||(o.test(n.host)?"qa":"prod")},u=(e,t)=>{window[e]=t;return t},d={prod:"production",qa:"development"},g=e=>{if("string"==typeof e){const t=e.toLowerCase();return d[t]||t}return e},m=e=>{e="string"==typeof e?e.toLowerCase():void 0;return Object.keys(d).find((t=>e===d[t]))||e},f=(e,t)=>{if(null!=t)throw new Error(c);let n=null;if(e){const t=e.split(".").reverse();for(let e=0;e<t.length;e++){const r=t[e];n=l(`${r.toUpperCase()}_ENV`);if(n)break}}if(null==n){const e=p();n=null!=e?e:"qa"}return g(n)},h=function(e,t){if(1===arguments.length){t=e;e=s}return u(e,t)},y=(e,t)=>{if(null!=t)throw new Error(c);return m(f(e))},b=y,v=e=>"prod"===b(e),w=e=>"qa"===b(e),O=()=>{const e=l("HUBLET");if(e)return e;for(const e of i)if(e.test(n.hostname))return e.exec(n.hostname)[1];return"na1"};function E({isNa1:e,isNonNa1:t},n){n||(n=O());return"na1"===n?"function"==typeof e?e(n):void 0:"function"==typeof t?t(n):void 0}return{createEnviro:e,debug:(e,t=!1)=>{let n;"string"==typeof e&&(n=l(`${e.toUpperCase()}_DEBUG`));null==n&&(n=l("DEBUG"));return null==n?t:n},denormalize:m,deployed:e=>{let t;"string"==typeof e&&(t=l(`${e.toUpperCase()}_DEPLOYED`));null==t&&(t=l("DEPLOYED"));return null==t?r:!!t},enabled:(e,t=!1)=>{let n=l(`${e.toUpperCase()}_ENABLED`);null==n&&(n=JSON.stringify(t));return"true"===`${n}`.toLowerCase()},get:f,getHublet:O,getInternal:y,getShort:b,isProd:v,isQa:w,ifHublet:E,normalize:g,set:h,setDebug:(e,t=!0)=>{if("string"==typeof e)try{t?localStorage.setItem(`${e.toUpperCase()}_DEBUG`,JSON.stringify(!0)):localStorage.removeItem(`${e.toUpperCase()}_DEBUG`)}catch(n){u(`${e.toUpperCase()}_DEBUG`,t||void 0)}else{t=null==e||e;try{t?localStorage.setItem("DEBUG",JSON.stringify(t)):localStorage.removeItem("DEBUG")}catch(e){u("DEBUG",t||void 0)}}}}};var s=i(document.location);const c=["email","userId","hubId","hstc","utk","portalId","deviceId","device_id","last_timestamp_checked_against_session"],l=["what_event_subtype","what_value","what_value_str","where_subscreen2"],p=["userId","hubId","hstc","utk","email","lang","deviceId","namespace","[Amplitude] Session Replay ID","[Amplitude] Session Replay Debug",...l],u=["function","object","null","undefined"],d=/(br\.hubpost\.com|wthubspot\.com|connect\.com|hubspot\.(com|es|de|jp))$/,g=5184e5,m=function(){if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;throw new Error("[usage-tracker-js] Unable to determine the global context")}(),f=(e,t=(()=>{}))=>"function"==typeof e?e:t,h=Object.keys,y=e=>Boolean(e)&&"object"==typeof e&&"function"==typeof e.then||e instanceof Promise,b=e=>t=>h(e).reduce(t,{}),v=(e="",t="",n="")=>{const r=e.indexOf(t),o=e.indexOf(n);return e.substr(r+t.length,o-r-n.length)},w=(e,t)=>{let n,r=0;return(...o)=>{r&&clearTimeout(r);r=setTimeout((()=>{r=0;n=e.apply(null,o)}),t);return n}},O=(e={},t={})=>{const n=b(t)(((n,r)=>{void 0===e[r]&&void 0!==t[r]&&(n[r]=t[r]);return n}));return Object.assign({},e,n)},E=e=>"isArray"in Array?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e),k=e=>{let t=typeof e;E(e)&&(t="array");return null===e?"null":t},I=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{let t;const n=16*Math.random()|0;t="x"===e?n:3&n|8;return t.toString(16)})),_=(e={},t)=>b(e)(((n,r)=>{n[r]=t(r,e[r]);return n})),S=(e={},t=[])=>b(e||{})(((n,r)=>{t.includes(r)||(n[r]=e[r]);return n})),x=(e={},t=[])=>Object.assign({},...t.map((t=>({[t]:e[t]})))),T=e=>{let t,n;return(...r)=>{if(!t){t=!0;n=e(...r)}return n}},j=(e,t)=>h(t).reduce(((n,r)=>{const o=t[r];n[r]=o[e];return n}),{}),$=(e="",t="")=>{0===(e=e.replace(/^\s+|\s+$/g,"")).indexOf(t)&&(e=e.substr(t.length));e.indexOf(t)===e.length-t.length&&(e=e.substr(0,e.indexOf(t)));return e},P=(e={})=>b(e)(((t,n)=>{t[n]=e[n];return t})),N=(e="",t=256)=>{let n=e;if(n.length>t){n=n.substr(0,t);n=`${n}[..]`}return n},D=()=>{const e=[];return{enqueue:t=>e.unshift(t),dequeue:()=>e.shift(),peek:()=>e[0]}},H=(e=[],t,n=m)=>{let r=n;e.forEach((e=>{r=r&&e in r?r[e]:void 0}));return void 0===r?t:r},U=(e="")=>e.toString().replace(/(?:^|\.?)([A-Z]+)/g,((e,t)=>`_${t.toLowerCase()}`)).replace(/^_/,"").replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())).replace(/-/g," ").replace(/_/g," ").replace(/\s{2}/g," "),L=(e="")=>e.replace(/[_|-]/g," ").replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>e[0===t?"toLowerCase":"toUpperCase"]())).replace(/\s+/g,""),W=e=>{if(e&&"object"==typeof e&&!Object.isFrozen(e)){Object.freeze(e);Object.getOwnPropertyNames(e).forEach((t=>W(e[t])))}return e},C=e=>t=>(n,r)=>{const o={fingerprint:["usage-tracker-js"],tags:e};return f(t)(n,Object.assign({},o,r))},A=(e,t="**********")=>e.reduce(((e,n)=>Object.assign({},e,{[n]:t})),{}),R=(e={})=>{const t=Object.entries(x(e,c)).filter((([,e])=>Boolean(e))).map((([e])=>e)),n=Object.entries(e).map((([e,t])=>[e,"function"==typeof t?"Function":t])).map((([e,t])=>[e,void 0===t?null:t]));return Object.assign({},Object.fromEntries(n),A(t))},q=e=>{new Promise((t=>t(e()))).catch((e=>{throw new Error(e)}))},B=e=>e>1280?"xlarge (> 1280)":e>=1024?"large (1024 - 1280)":e>=680?"medium (680 - 1024)":e>0?"small (< 680)":"unknown",V=53,J="USAGE_TRACKER_JS",M="__hstc",K="hubspotutk",z="__hmpl",F="USAGE_TRACKER_JS_RECORDER_ENABLED",G="USAGE_TRACKER_JS_RECORDED_EVENTS",Q="USAGE_TRACKER_JS_RECORDED_EVENT_KEYS",Y="HUBLYTICS_EVENTS_53",X=e=>{const t=e=>"object"==typeof e.Raven&&"function"==typeof e.Raven.captureException&&"function"==typeof e.Raven.captureMessage;if("undefined"==typeof window||void 0===e){let e=0,n=!1;return{hasRaven:t,addEventListener:()=>!1,dispatchWindowEvent:()=>!1,isDocumentVisible:()=>!1,isDocumentReady:()=>{if(n||e)return n;e=setTimeout((()=>{n=!0}),5e3);return n},isLocalDeployment:!1,isQaDeployment:!1,isProdDeployment:!0,isDebugEnabled:!1,isHubSpotDomain:!1,hasLocalStorage:!1,hasCookieAccess:!1,hasBeaconSupport:!1,isPrerendering:()=>!1}}const n=()=>{try{return Boolean(e.localStorage)}catch(e){return!1}},r=()=>{const{navigator:t,document:n}=e;try{return"object"==typeof t&&t.cookieEnabled||"object"==typeof n&&Boolean(n.cookie)}catch(e){return!1}},o=()=>{const{navigator:t}=e;try{return"object"==typeof t&&"function"==typeof t.sendBeacon}catch(e){return!1}},a=()=>{const{document:t}=e;try{return"object"==typeof t&&"string"==typeof t.visibilityState&&"visible"===t.visibilityState}catch(e){return!1}},i=()=>{const{location:t}=e;return"object"==typeof t&&"string"==typeof t.hostname&&d.test(t.hostname)},c=()=>{const{document:t}=e;return"object"==typeof t&&"boolean"==typeof t.prerendering&&t.prerendering};return{hasRaven:t,isDocumentReady:()=>{const{document:t}=e;try{return"object"==typeof t&&"string"==typeof t.readyState&&"complete"===t.readyState}catch(e){return!1}},addEventListener:(t,n)=>{const{document:r,addEventListener:o}=e;return"object"==typeof r&&"function"==typeof o&&o(t,n)},dispatchWindowEvent:(t,n)=>{const{document:r,CustomEvent:o}=e;if("object"==typeof r&&"function"==typeof o){const r=new o(t,{detail:n});return e.dispatchEvent(r)}return!1},isLocalDeployment:!s.deployed(),isQaDeployment:s.isQa(),isProdDeployment:s.isProd(),isDebugEnabled:Boolean(s.debug(J)),isHubSpotDomain:i(),hasLocalStorage:n(),hasCookieAccess:r(),hasBeaconSupport:o(),isDocumentVisible:a,isPrerendering:c}},{hasRaven:Z,isDocumentReady:ee,addEventListener:te,dispatchWindowEvent:ne,hasLocalStorage:re,hasCookieAccess:oe,hasBeaconSupport:ae,isLocalDeployment:ie,isQaDeployment:se,isProdDeployment:ce,isDebugEnabled:le,isDocumentVisible:pe,isHubSpotDomain:ue,isPrerendering:de}=X(void 0!==m?m:void 0);const ge="na1",me={APP:"app",APP_API:"app-api"};function fe(e,t){const n=t&&t.hubletOverride?t.hubletOverride:e;return n===ge?"":`-${n}`}function he(e,t,n){if(n&&n.hubletPostfixLocation&&"domain"===n.hubletPostfixLocation)return t;t===me.APP_API&&(t=me.APP);return`${t}${fe(e,n)}`}function ye(e,t,n){return`${ve(n)}${be(t,n)}${we(e,n)}`}function be(e,t){return"qa"===(t&&t.envOverride?t.envOverride:e)?"qa":""}function ve(e){return e&&e.domainOverride?e.domainOverride:"hubspot"}function we(e,t){return t&&t.hubletPostfixLocation&&"domain"===t.hubletPostfixLocation?fe(e,t):""}function Oe(e){return e&&e.tldOverride?e.tldOverride:"com"}function Ee(e){return e===me.APP_API?"/api":""}function ke(e){return e&&e.hubletOverride?e.hubletOverride:s.getHublet()}function Ie(e){return e&&e.envOverride?e.envOverride:s.getShort()}function _e(e,t){return he(ke(t),e,t)}function Se(e){return ye(ke(e),Ie(e),e)}function xe(e){return Oe(e)}function Te(e){return Ee(e)}function je(e,t){return`https://${_e(e,t)}.${Se(t)}.${xe(t)}${Te(e)}`}const $e=({getTempStorage:e,setTempStorage:t})=>{const n=n=>{try{const r=e(Y)||"[]",o=JSON.parse(r).reverse().slice(0,49).reverse();t(Y,JSON.stringify(o.concat(n)))}catch(e){t(Y,JSON.stringify(n))}};return{addEvents:n,getEvents:()=>{try{const t=e(Y)||"[]";return JSON.parse(t)}catch(e){t(Y,"[]")}return[]},removeEvents:n=>{try{const r=e(Y)||"[]",o=JSON.parse(r).filter((e=>-1===JSON.stringify(n).indexOf(JSON.stringify(e))));t(Y,JSON.stringify(o))}catch(e){t(Y,"[]")}}}},Pe=({getTempStorage:e,setTempStorage:t})=>{const n=D(),r=$e({getTempStorage:e,setTempStorage:t});return{peek:n.peek,push:e=>{n.enqueue(e);q((()=>r.addEvents([e])))},flush:()=>{const e=[];do{const t=n.dequeue();t&&e.unshift(t)}while(n.peek());q((()=>r.removeEvents(e)));return e}}},Ne=(e,t,n=2e3,r=3)=>{let o=0,a=0,i=e(),s=t();const c=e=>e(),l=l=>{o||(o=setInterval((()=>{const n=a>=r;i=e()||n;s=t();if(!i||s)a+=1;else{clearInterval(o);c(l);o=0;a=0}}),n))},p=w(c,n);return{scheduleFlush:e=>i&&!s?p(e):l(e)}},De=18e5,He=[{name:"windows 10",pattern:/(Windows 10.0|Windows NT 10.0)/},{name:"windows 8",pattern:/(Windows 8|Windows8.1|Windows NT 6.2|Windows NT 6.3)/},{name:"windows 7",pattern:/(Windows 7|Windows NT 6.1)/},{name:"windows vista",pattern:/Windows NT 6.0/},{name:"windows xp",pattern:/(Windows NT 5.1|Windows XP)/},{name:"android",pattern:/Android/},{name:"linux",pattern:/(Linux|X11)/},{name:"ios",pattern:/(iPhone|iPad|iPod)/},{name:"mac",pattern:/Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh/}],Ue=e=>({device_id:I(),last_event_id:0,last_sequence_number:0,last_timestamp_checked_against_session:e,session_id:e}),Le=e=>{const t=e(z);if(t)try{return JSON.parse(t)}catch(e){}return null},We=(e,t)=>e(z,JSON.stringify(t)),Ce=(e,{currentTime:t,deviceId:n})=>{const{device_id:r,last_event_id:o=0,last_sequence_number:a=0,last_timestamp_checked_against_session:i=t,session_id:s=t}=e,c={device_id:r,last_event_id:o,last_sequence_number:a,last_timestamp_checked_against_session:i,session_id:s};if(n&&n!==r){const e=Ue(t);e.device_id=n;return e}if(t-i>De){c.last_event_id=0;c.session_id=t}c.last_event_id=o+1;c.last_sequence_number=a+1;c.last_timestamp_checked_against_session=t;return c},Ae=(e,t,{currentTime:n,deviceId:r})=>{const o=Le(e)||Ue(n),a=Ce(o,{currentTime:n,deviceId:r});We(t,a);return a},Re=e=>{const t=He.find((({pattern:t})=>t.test(e)));return t?t.name:"unknown"},qe=({deviceId:e,getCurrentHref:t,getNetworkType:n,getNetworkSpeed:r,getTempStorage:o,setTempStorage:a})=>{const i=Date.now(),s=Ae(o,a,{currentTime:i,deviceId:e}),c=Object.assign({},s,{timestamp:i,currentPageUrl:"",networkType:"",networkSpeed:"",prerendering:!1});c.prerendering=de();c.currentPageUrl=N(t(),256);c.networkType=n();c.networkSpeed=r();return c},Be=({clientName:e,getReferrer:t,getUserAgent:n,getScreenWidth:r,getScreenHeight:o,getWindowWidth:a,getWindowHeight:i,getDeployableName:s,getDeployableVersion:c})=>{const l={windowWidth:-1,windowHeight:-1,screenWidth:-1,screenHeight:-1,screenSize:"",lastPageUrl:"",howOsDetailed:"",singlePageAppSessionId:Date.now(),trackingClient:e||"custom",deployableName:"",deployableVersion:""};l.windowWidth=a();l.windowHeight=i();l.deployableName=s();l.deployableVersion=c();l.howOsDetailed=Re(v(n(),"(",")"));l.screenWidth=r();l.screenHeight=o();l.screenSize=B(r());l.lastPageUrl=N(t(),256);return l},Ve=(e,t)=>{const n=Object.assign({},t,e),r=h(n).filter((e=>!n[e]));return S(n,r)},Je=(e,t,n)=>{const r=new Error(t);r.name=e;r.stack=`${e}: ${t}`;r.cause=n;return r},Me=e=>{if(e&&e.name&&e.stack&&"object"==typeof e.cause){const t=e.cause;return Boolean(t&&t.type&&t.dangerLevel)}return!1},Ke=(e,t)=>Me(e)?"object"==typeof t&&"object"==typeof t.extra?Object.assign({},t,{extra:Object.assign({},t.extra,e.cause)}):Object.assign({},t,{extra:Object.assign({},e.cause)}):t,ze=e=>Je("UsageTrackerGenericWarning",e,{type:"generic warning",dangerLevel:"This error does not break tracking or the execution thread."}),Fe=e=>Je("UsageTrackerError",e,{type:"generic error",dangerLevel:"This error breaks the execution thread."}),Ge=e=>Je("UsageTrackerConfigError",e,{type:"config error",dangerLevel:"This error breaks the execution thread."}),Qe=e=>Je("UsageTrackerEventError",e,{type:"event error",dangerLevel:"This error breaks tracking, but not the execution thread."}),Ye=(e,t,n,r=!0)=>{const o=P(n),a=()=>h(o),i=(n,r,i)=>{a().forEach((a=>{const{types:s,oneOf:c,isOptional:l}=o[a],p=n[a],u=void 0!==p,d=k(p);if(!l&&!u)throw t(`Missing required ${e} "${a}". ${r} requires that a value be passed for ${e} "${a}". Received "undefined".`);if(u){if(E(s)&&!s.includes(d))throw t(`Invalid ${e}. ${r} requires that the "${a}" ${e} type be one of ["${s.join('", "')}"]. Received "${d}".`);if("function"!==d){if(E(c)&&!c.includes(String(p)))throw t(`Invalid ${e}. ${r} requires that the "${a}" ${e} be one of ["${c.join('", "')}"]. Received "${p}".`);f(i)({key:a,entry:p,isOptional:l})}}}));return!0},s=(e,t)=>{h(e).forEach((n=>{const r=e[n];i(r,t)}))},c=e=>{const t=j("default",o),n=O(e,t);return r?x(n,a()):n},l=e=>b(e)(((t,n)=>{const r=e[n];t[n]=c(r);return t}));return{getKeys:a,mutate:n=>{const a=n(_(o,(e=>P(o[e]))));return Ye(e,t,a,r)},normalize:c,normalizeEach:l,validate:i,validateEach:s,_peek:()=>W(o)}},Xe=Ye("client dependency",Ge,{clientName:{types:["string"],default:"custom"},getDebug:{types:["function"]},getEmail:{types:["function"]},getHubId:{types:["function"]},getHstc:{types:["function"]},getLang:{types:["function"]},getCurrentHref:{types:["function"],isOptional:!0,default:()=>H(["window","location","href"],"")},getReferrer:{types:["function"],isOptional:!0,default:()=>H(["document","referrer"],"")},getUserAgent:{types:["function"],isOptional:!0,default:()=>H(["navigator","userAgent"],"")},getNetworkType:{types:["function"],isOptional:!0,default:()=>H(["navigator","connection","effectiveType"],"")},getNetworkSpeed:{types:["function"],isOptional:!0,default:()=>H(["navigator","connection","downlink"],"")},getScreenWidth:{types:["function"],isOptional:!0,default:()=>H(["screen","width"],"")},getScreenHeight:{types:["function"],isOptional:!0,default:()=>H(["screen","height"],"")},getWindowWidth:{types:["function"],isOptional:!0,default:()=>H(["window","innerWidth"],"")},getWindowHeight:{types:["function"],isOptional:!0,default:()=>H(["window","innerHeight"],"")},getDeployableName:{types:["function"],isOptional:!0,default:()=>H(["window","hubspot","bender","currentProject"],"")},getDeployableVersion:{types:["function"],isOptional:!0,default:()=>H(["window","hubspot","bender","currentProjectVersion"],"")},logMessage:{types:["function"],isOptional:!0,default:(...e)=>H(["console","debug"],((...e)=>e))(...e)},logWarning:{types:["function"],isOptional:!0,default:(...e)=>H(["console","warn"],((...e)=>e))(...e)},logError:{types:["function"],default:(...e)=>H(["console","error"],((...e)=>e))(...e)},reportError:{types:["function"],isOptional:!0,default:()=>{}},reportWarning:{types:["function"],isOptional:!0,default:()=>{}},getTempStorage:{types:["function"]},setTempStorage:{types:["function"]},send:{types:["function"]}}),Ze=Ye("config option",Ge,{trackerName:{types:["string"],isOptional:!0,default:"default"},allowUnauthed:{types:["boolean"],isOptional:!0,default:!1},bypassPool:{types:["boolean"],isOptional:!0,default:!1},debug:{types:["boolean","function"],isOptional:!0},events:{types:["object"]},isBeforeUnload:{types:["boolean"],isOptional:!0,default:!1},isExternalHost:{types:["boolean"],isOptional:!0,default:!1},lastKnownEventProperties:{types:["array"],isOptional:!0,default:[]},onError:{types:["function"],isOptional:!0},onWarning:{types:["function"],isOptional:!0},onScheduled:{types:["function"],isOptional:!0,default:()=>{}},preserveTrackerProperties:{types:["boolean"],isOptional:!0,default:!0},preserveTrackerEvents:{types:["boolean"],isOptional:!0,default:!1},properties:{types:["object"],isOptional:!0,default:{}},standalone:{types:["boolean"],isOptional:!0,default:!1}}),et=Ye("tracker properties",Ge,{email:{types:["string","function","object","null"]},hubId:{types:["number","function","object","null"]},hstc:{types:["string","function","object","null"]},lang:{types:["string","function","object","null"]},deviceId:{types:["string","function","object","null"],isOptional:!0,default:void 0}},!1),tt=["activation","creation","error","exposure","funnel","interaction","none","signup","usage","view","warning"],nt=Ye("event property",Ge,{name:{types:["string"]},namespace:{types:["string"],isOptional:!0,default:""},class:{types:["string"],oneOf:[...tt]},version:{types:["string"],isOptional:!0,default:"v1"},properties:{types:["object"],isOptional:!0,default:{}},meta:{types:["object"],isOptional:!0}}),rt=["boolean","string","number","array"],ot=Ye("event property",Ge,{type:{types:["string","array"],oneOf:[...rt]},isOptional:{types:["boolean"],isOptional:!0,default:!1},description:{types:["string"],isOptional:!0,default:""}}),at=e=>_(e,(t=>{const n=e[t];n.properties=_(n.properties,((e,t)=>"string"==typeof t||E(t)?{type:t,isOptional:!1}:t));n.properties=ot.normalizeEach(n.properties);return n})),it=e=>{const t=Object.freeze(e),n=e=>{const n=t[e];if(!n||"object"!=typeof n)throw Qe(`Invalid event key. The event definition for "${e}" is undefined. Check your events.yaml dictionary.`);return n},r=(e,t={})=>{const r=n(e).properties||{},o=t||{},a=[...rt,"null"],i=_(r,(e=>{const{type:t,isOptional:n}=r[e];if(n)return{types:a,isOptional:!0};if("string"==typeof t){if(rt.includes(t))return{types:[t],isOptional:!1};if(t.includes("oneOf")){return{oneOf:v(t,"[","]").split(",").map((e=>$($(e,'"'),"'"))),isOptional:!1}}}return{oneOf:t,isOptional:n}})),s=_(o,(()=>({types:a,isOptional:!0}))),c=O(i,s);return Ye("event property",Qe,c,!1)};return{getDefinition:n,createPropertySchema:r,getAll:()=>t}},st=(e,t)=>{const n=nt.normalizeEach(e);nt.validateEach(n,t);return at(n)},ct=(e,t,n)=>{let r=`[usage-tracker-core "${e}"] ${t}`;n&&n.trim().length>0&&(r+=`\n----------------------------------------\n${n}\n----------------------------------------`);return r},lt=e=>(t,n,r)=>{const{where_app:o,what_event:a}=r||{},i=`eventKey: ${t}\neventType: ${`[${U(o)}] ${U(a)}`}`,s=JSON.parse(JSON.stringify(r||{}));s.what_extra_json=JSON.parse(s.what_extra_json||"{}");e(ct("debug log",n,i),s)},pt=(e,t)=>(n,r)=>{e(n);f(t)(n,r)},ut=(e,t)=>(n,r)=>{e(n);f(t)(n,r)},dt=(e,t,n)=>r=>(o,a)=>{e(a);const i=ze(`Property "${o}" failed to resolve asynchronously and will fallback to "null".`);t(i);f(n)(a,{extra:{propertyName:o},fingerprint:["usage-tracker-js","tracker:failedResolveProperty",`event:${r}`]})},gt=["namespace","lang","screen","subscreen","timestamp","device_id","session_id","last_sequence_number","last_event_id"],mt=(e,t,n)=>{const r=t||n;if(!r||"*"===r)throw Qe(`Namespace not found for "${e}".`);return r},ft=(e,t)=>{!e.who_email&&t.raw.email&&(e.who_email=t.raw.email);!e.who_identifier&&t.raw.userId&&(e.who_identifier=t.raw.userId);e.who_identifier_v2||(e.who_identifier_v2=t.user);e.who_team_identifier||(e.who_team_identifier=t.team);e.utk||(e.utk=t.utk);return e},ht=(t,n)=>{const{namespace:r,lang:o,screen:a,subscreen:i,timestamp:s,device_id:p,session_id:d,last_sequence_number:g,last_event_id:m}=n,f=e(n,gt),h=S(f,[...c,...l]),y=b(h)(((e,t)=>{let n=h[t];const r=k(n);if(u.includes(r))return e;if("string"===r&&""===n.trim())return e;E(n)&&(n=n.filter((e=>null!=e)));e[t]=n;return e}));y.locale=o;const v={hublytics_account_id:V,where_app:mt(f.eventKey,t.namespace,r),where_screen:a||"unknown",where_subscreen:i||"",when_timestamp:s,device_id:p,session_id:d,event_id:m,sequence_number:g,language:o,what_event:t.name,what_event_class:t.class.toUpperCase(),what_version:t.version,what_extra_json:JSON.stringify(y),library_name:"usage-tracker-js",library_version:1};"string"==typeof n.subscreen2&&(v.where_subscreen2=n.subscreen2);l.forEach((e=>{const t=n[e];"string"==typeof t&&(v[e]=t)}));return v},yt=(e,t,n)=>{const r=ht(e,t);return n?ft(r,n):r},bt=({deviceId:e,utk:t,email:n,hubId:r},{allowUnauthed:o,isExternalHost:a})=>{let i,s,c;r&&(c=r);n?s=`EMAIL:::${n}:::${V}`:t?i=a?`TEMP_ID:::${t}:::${V}`:`VISITOR:::${t}:::${V}`:e&&(i=`TEMP_ID:::${e}:::${V}`);if(!s&&!o)throw Qe("Could not identify an authenticated user. Please specify an email address (email).");if(!c&&!o)throw Qe("Could not identify a HubSpot Portal ID. Please specify a Portal ID (hubId).");if(!i&&!s&&o)throw Qe("Could not identify the user. Please specify an email address (email) or an __hstc cookie (hstc) or a device id (deviceId).");return{user:s||i,team:c}},vt=e=>{let t;if("string"==typeof e&&e){const n=e.split(".");n.length>1&&(t=n[1])}return t},wt=({email:e,userId:t,hubId:n,hstc:r,deviceId:o},{allowUnauthed:a,isExternalHost:i})=>{const s=vt(r),{user:c,team:l}=bt({deviceId:o,utk:s,email:e,hubId:n},{allowUnauthed:a,isExternalHost:i});return{user:c,team:l,utk:s,raw:{email:e,userId:t,hubId:n,hstc:r,deviceId:o}}},Ot=e=>{const t=C({"tracker.client":e.clientName,"tracker.name":e.trackerName}),n=lt(e.logMessage),r=pt(e.logError,t(e.onError)),o=it(e.events),a=et.mutate((e=>({email:Object.assign({},e.email,{types:["string","null"]}),hubId:Object.assign({},e.hubId,{types:["number","null"]}),hstc:Object.assign({},e.hstc,{types:["string","null"]}),lang:Object.assign({},e.lang,{types:["string","null"]}),deviceId:Object.assign({},e.deviceId,{types:["string","null"]})}))),i="function"==typeof e.debug?e.debug():e.debug,s=(e,t)=>{try{o.createPropertySchema(e,t).mutate((e=>Object.assign({},e,a._peek()))).validate(t,`Event "${e}"`);return!0}catch(n){r(n,{extra:{eventKey:e,eventProperties:R(t)},fingerprint:["usage-tracker-js","tracker:validateProperties",`event:${e}`]});return!1}},c=e=>{try{return o.getDefinition(e)}catch(t){r(t,{extra:{eventKey:e},fingerprint:["usage-tracker-js","tracker:getDefinition",`event:${e}`]});return null}},l=(t,n)=>{const o={email:n.email,userId:n.userId,hubId:n.hubId,hstc:n.hstc,deviceId:n.deviceId},a={allowUnauthed:e.allowUnauthed,isExternalHost:e.isExternalHost};try{return wt(o,a)}catch(e){r(e,{extra:Object.assign({eventRawIdentifiers:R(o),eventProperties:R(n)},a),fingerprint:["usage-tracker-js","tracker:getIdentifiers",`event:${t}`]});return null}},p=(e,t,n,o)=>{try{return yt(t,n,o)}catch(t){r(t,{extra:{eventKey:e,eventProperties:R(n),eventIdentifiers:R(o?o.raw:void 0)},fingerprint:["usage-tracker-js","tracker:createEvent",`event:${e}`]});return null}},u=(t,n,o)=>{try{e.scheduleEvent(t,n,x(e,["bypassPool","isBeforeUnload","isExternalHost"]));q((()=>f(e.onScheduled)(t)));return!0}catch(e){r(e,{extra:{eventKey:t,eventIdentifiers:R(o.raw)},fingerprint:["usage-tracker-js","tracker:dispatchEvent",`event:${t}`]});return!1}},d=(e,t,r,o)=>{const a=O(o,r),s=l(e,a),c=Object.assign({},a,{eventKey:e}),d=p(e,t,c,s||void 0);if(s&&d){i&&n(e,"Event is being dispatched to be sent.",d);return u(e,d,s)}i&&n(e,"Event was not dispatched.",d||void 0);return!1};return{trackStandaloneEvent:(e,t,n,r)=>{const o=L(t),a=tt.includes(r.class)&&r.class||/(pageView|View|pageview)/.test(o)?"view":"interaction";return d(`standalone:::${o}`,{name:t,namespace:e,class:a,version:"v1",properties:{},meta:{}},n,r)},trackDictionaryEvent:(e,t,n)=>{const r=c(e);if(!r)return!1;const o=n(r);return!!s(e,o)&&d(e,r,t,o)}}},Et=(e={},t,n)=>{const r={},o=h(e),a=o.length,i=o.reduce(((t,n)=>{const o=e[n];if(o&&"function"==typeof o){t.push({key:n,func:o});return t}if(o&&y(o)){t.push({key:n,promise:o});return t}r[n]=o;return t}),[]),s=()=>{Object.keys(r).length===a&&t(r)};if(i.length){const e=(e,t)=>{r[e]=t;s()},t=(e,t)=>{r[e]=null;f(n)(e,t);s()};return i.forEach((({key:n,promise:r,func:o})=>{const a=o?new Promise((e=>e(o()))):r;a&&a.then((t=>e(n,t))).catch((e=>t(n,e)))}))}return t(r)},kt=e=>{let t=Object.assign({},e.properties);const n=C({"tracker.client":e.clientName,"tracker.name":e.trackerName}),r=dt(e.logError,e.logWarning,n(e.onError)),o="function"==typeof e.debug?e.debug():e.debug,a=ut(e.logWarning),i=n=>{const r=e.lastKnownEventProperties;r&&r.length&&r.forEach((e=>{const r=n[e],o=k(r);rt.includes(o)&&(t[e]=r)}))};return{resolveProperties:(e,n,o)=>{Et(t,(e=>{t=O(e,t);i(n);o(b(t)(((e,n)=>{const r=t[n],o=k(r);return Object.assign({},e,{[n]:u.includes(o)?null:r})})))}),r(e))},createPropertiesFilter:(t,n)=>r=>{const i=h(r.properties),s=e=>p.includes(e)||i.includes(e),c=Object.entries(n).filter((([e,t])=>!s(e)&&null!=t));if(c.length){a(ze(`Event "${t}" is possibly being tracked with unexpected properties. See go/unexpectedproperties`));o&&e.logMessage(ct("debug log",`Event "${t}" has unexpected Properties.`,`unexpectedProperties: ${c.map((e=>`"${e}"`)).join(", ")}`))}return n},getCache:()=>P(t),addToCache:(e,n)=>{t[e]=n}}},It=(e,t)=>{if(!t||"object"!=typeof t)throw Ge(`Invalid argument. The "createTracker" function requires to be passed a config argument of type "object". Received type "${typeof t}".`);const n=Ze.mutate((t=>Object.assign({},t,{debug:Object.assign({},t.debug,{default:e.getDebug}),onError:Object.assign({},t.onError,{default:e.reportError}),onWarning:Object.assign({},t.onWarning,{default:e.reportWarning})}))),r=et.mutate((t=>Object.assign({},t,{email:Object.assign({},t.email,{default:e.getEmail}),hubId:Object.assign({},t.hubId,{default:e.getHubId}),hstc:Object.assign({},t.hstc,{default:e.getHstc}),lang:Object.assign({},t.lang,{default:e.getLang})}))),o=n.normalize(t);n.validate(o,'"createTracker"');const a=r.normalize(o.properties||{});r.validate(a,'"createTracker"');const i=st(o.events,'"createTracker"');return Object.assign({events:i,properties:a},S(o,["events","properties"]),e)},_t=(e,t={})=>{const n=It(e,t),{trackDictionaryEvent:r,trackStandaloneEvent:o}=Ot(n),a=C({"tracker.client":n.clientName,"tracker.name":n.trackerName}),i=pt(n.logError,a(n.onError)),s=kt(n),c="function"==typeof t.debug?t.debug():t.debug,l=(e,t,r={})=>{try{if(!e||"string"!=typeof e)throw Fe(`Invalid argument. The "track" method requires the 1st argument to be of type "string". Received type "${typeof e}".`);if(!t||"string"!=typeof t)throw Fe(`Invalid argument. The "track" method requires the 2nd argument to be of type "string". Received type "${typeof t}".`);if(!r||"object"!=typeof r)throw Fe(`Invalid argument. The "track" method requires the 3rd argument to be of type "object". Received type "${typeof r}".`);s.resolveProperties(t,r,(a=>o(e,t,n.getMetaProperties(a),O(r,a))))}catch(n){i(n,{extra:{appName:e,eventName:t},fingerprint:["usage-tracker-js","tracker:track"]})}},p=(e,t={})=>{try{if(!e||"string"!=typeof e)throw Fe(`Invalid argument. The "track" method requires the 1st argument to be of type "string". Received type "${typeof e}".`);if(!t||"object"!=typeof t)throw Fe(`Invalid argument. The "track" method requires the 2nd argument to be of type "object". Received type "${typeof t}".`);t.deviceId&&s.addToCache("deviceId",t.deviceId);s.resolveProperties(e,t,(o=>r(e,n.getMetaProperties(o),s.createPropertiesFilter(e,O(t,o)))))}catch(t){i(t,{extra:{eventKey:e},fingerprint:["usage-tracker-js","tracker:track"]})}};return{clone:(t={})=>{try{if(!t||"object"!=typeof t)throw Fe(`Invalid argument. The "clone" method requires to be passed a valid tracker config of type "object". Received type "${typeof t}".`);const r=S(O(t,n),h(e)),o=x(s.getCache(),et.getKeys()),a=S(s.getCache(),h(o));r.properties=O(t.properties||{},o);r.preserveTrackerProperties&&(r.properties=O(r.properties,a));r.preserveTrackerEvents&&(r.events=O(r.events||{},n.events));return _t(e,r)}catch(e){i(e,{extra:{overrides:t},fingerprint:["usage-tracker-js","tracker:clone"]})}},getConfig:()=>{try{if(c)return Object.assign({},S(n,["properties"]),{properties:s.getCache()});throw Fe("Invalid call. This method should only be used when 'debug: true'. Please do not use this in production.")}catch(e){i(e,{extra:{debug:c},fingerprint:["usage-tracker-js","tracker:getConfig"]})}},setProperties:(e={})=>{try{if(!e||"object"!=typeof e)throw Fe(`Invalid argument. The "setProperties" method requires to be passed a properties argument of type "object". Received type "${typeof e}".`);h(e).forEach((t=>{s.addToCache(t,e[t])}))}catch(e){i(e,{fingerprint:["usage-tracker-js","tracker:setProperties"]})}},track:t.standalone?l:p}},St=(e={})=>{const t=Xe.normalize(e);Xe.validate(t,'"createClient"');const{clientName:n,getDebug:r,getEmail:o,getHubId:a,getHstc:i,getLang:s,getCurrentHref:c,getReferrer:l,getUserAgent:p,getNetworkType:u,getNetworkSpeed:d,getScreenWidth:m,getScreenHeight:f,getWindowWidth:h,getWindowHeight:y,getDeployableName:b,getDeployableVersion:v,getTempStorage:w,logMessage:O,logWarning:k,logError:I,reportError:_,reportWarning:S,send:x,setTempStorage:j}=t,$=Pe({getTempStorage:w,setTempStorage:j}),P=$e({getTempStorage:w,setTempStorage:j}),{scheduleFlush:N}=Ne(ee,de),D=(e,t)=>{const{isBeforeUnload:n=!1,isExternalHost:r=!1,discardOnFailure:o=!1}=t;let a=`clientSendTimestamp=${Date.now()}`;r&&(a+="&dil=true");x({events:e,query:a,isBeforeUnload:!!n,onFailure:()=>{!1===o&&P.addEvents(e)}})},H=e=>{const t=$.flush();t&&t.length&&D(t,e)},U=(e,t)=>{e.forEach((e=>$.push(e)));q((()=>N((()=>H(t)))))},L={clientName:n,getCurrentHref:c,getReferrer:l,getUserAgent:p,getNetworkType:u,getNetworkSpeed:d,getScreenWidth:m,getScreenHeight:f,getWindowWidth:h,getWindowHeight:y,getDeployableName:b,getDeployableVersion:v,getTempStorage:w,setTempStorage:j},W=T(Be),C=({deviceId:e})=>{const t=W(L),n=qe(Object.assign({deviceId:e},L));return Ve(t,n)},A=(e,t)=>{try{const t=w(Q)||"[]",n=JSON.parse(t).reverse().slice(0,49).reverse();j(Q,JSON.stringify(n.concat(e)))}catch(e){j(Q,"[]")}try{const e=w(G)||"[]",n=JSON.parse(e).reverse().slice(0,49).reverse();j(G,JSON.stringify(n.concat(t)))}catch(e){j(G,"[]")}},R=e=>{const t=P.getEvents();if(E(t)&&t.length>0){P.removeEvents(t);const n=Date.now(),r=t.filter((({when_timestamp:e=0})=>n-e<g));D(r,{isExternalHost:e.isExternalHost,isBeforeUnload:!0,discardOnFailure:!0})}},B=(e="",t,n)=>{(n.bypassPool||n.isBeforeUnload?D:U)([t],n);q((()=>ne("usageTrackerEvent",{eventKey:e,eventPayload:t})));q((()=>{"true"===w(F)&&A(e,t)}))};return{createTracker:e=>{te("beforeunload",(()=>H({isExternalHost:e.isExternalHost,isBeforeUnload:!0})));te("visibilitychange",(()=>{pe()||H({isExternalHost:e.isExternalHost,isBeforeUnload:!0})}));q((()=>R(e)));return _t({clientName:n,getMetaProperties:C,getDebug:r,getEmail:o,getHubId:a,getHstc:i,getLang:s,logError:I,logMessage:O,logWarning:k,reportError:_,reportWarning:S,scheduleEvent:B},e)}}},xt=(e,t)=>{const n=`; ${t}`.split(";");if(n.length)for(let t=0;t<n.length;t++){const r=n[t].split("=");if(2===r.length&&r[0].trim()===e)return r[1]}return null},Tt=e=>oe?xt(e,m.document.cookie):null;var jt={getItem:(e="")=>{if(re)try{return m.sessionStorage.getItem(e)||""}catch(e){}return null},setItem:(e="",t="")=>{if(re)try{m.sessionStorage.setItem(e,t||"")}catch(e){}return t},removeItem:(e="")=>{if(re)try{m.sessionStorage.removeItem(e)}catch(e){}}};var $t={getItem:(e="")=>{if(re)try{return m.localStorage.getItem(e)||""}catch(e){}return null},setItem:(e="",t="")=>{if(re)try{m.localStorage.setItem(e,t||"")}catch(e){}return t},removeItem:(e="")=>{if(re)try{m.localStorage.removeItem(e)}catch(e){}}};function Pt(){return Tt(M)||null}function Nt(){const e=Pt();return Tt(K)||e&&e.split(".")[1]||null}function Dt(){const{hubspot:e={portal:{}}}=m||{};return"portal"in e&&"id"in e.portal?e.portal.id:null}function Ht(e=(Nt()||Dt()?$t:jt)){const{device_id:t}=Ae(e.getItem,e.setItem,{currentTime:Date.now()});return t}function Ut(e,t={}){"object"==typeof m&&Z(m)&&m.Raven.captureException(e,Ke(e,Object.assign({},t,{level:"error"})))}var Lt=Ut;const Wt=(e,t,n=(()=>{}))=>{let r=!1;if(ae)try{const n=JSON.stringify(t),o=new Blob([n],{type:"text/plain"});r=m.navigator.sendBeacon.bind(m.navigator)(e,o)}catch(e){e instanceof Error&&"TypeError"!==e.name&&Lt(e)}r||"function"!=typeof n||n();return r};var Ct={getHstc:Pt,sendBeacon:Wt,reportError:Lt,reportWarning:(e,t={})=>"object"==typeof m&&Z(m)&&m.Raven.captureException(e,Ke(e,Object.assign({},t,{level:"warning"}))),getDebug:()=>le,getLang:(e="en-US")=>{if(void 0!==m&&"object"==typeof m.navigator){const e=m.navigator.languages?m.navigator.languages[0]:m.navigator.language;if(e)return e.toLocaleLowerCase()}return e},getTempStorage:$t.getItem,setTempStorage:$t.setItem,logError:(...e)=>{(ie||se||le)&&console.error(...e)},logWarning:(...e)=>{(ie||se||le)&&console.warn(...e)}};const At=(e,{data:t})=>fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),Rt=je("app-api"),qt="/usage-logging/v1/log/hublytics-multi/no-auth",Bt=e=>Ct.reportError(e,{fingerprint:["usage-tracker-js","network"]});var Vt=St({clientName:"anonymous",getDebug:Ct.getDebug,getLang:Ct.getLang,getTempStorage:jt.getItem,setTempStorage:jt.setItem,logWarning:Ct.logWarning,logError:Ct.logError,reportWarning:Ct.reportWarning,reportError:Ct.reportError,getHstc:()=>null,getEmail:()=>null,getHubId:()=>null,send:({events:e,query:t="",onFailure:n})=>{const r=`${Rt}${qt}?${t}`,o=e=>{Bt(e);f(n)()},a=()=>{At(r,{data:e}).catch(o)};Ct.sendBeacon(r,e,a)}});const Jt=["omitProperties","scrubProperties"],Mt=["viralSourcePortalId","viralSourceUserId","referrerUrl","referrerParams","lastPageUrl"],Kt=[...Mt,"email","userId","hubId","hstc","utk"],zt={allowUnauthed:!0,isExternalHost:!ue,events:void 0,omitProperties:Kt,scrubProperties:Mt},Ft=(e,t,n)=>new Proxy(t,{get:(t,r)=>"setProperties"===r?e=>t.setProperties(S(e,n)):"track"===r?e.standalone?(e,r,o)=>t.track(e,r,S(o,n)):(e,r)=>t.track(e,S(r,n)):"clone"===r?r=>Ft(e,t.clone(r),n):t[r]}),Gt=t=>{const n=O(t||zt,zt),{omitProperties:r,scrubProperties:o}=n,a=e(n,Jt),i=S(a.properties,r||Kt),s=A(o||Mt,null);return Ft(a,Vt.createTracker(Object.assign({},a,{properties:Object.assign({},i,s)})),r||Kt)},Qt=256,Yt='meta[name="laboratory-identifier-other"]',Xt=je("app"),Zt='[data-hs-cos-type="module"]',en=["data-form-id","data-page-id","data-instance-id","data-portal-id"],tn=e=>{const t=Array.from(e.attributes).filter((e=>e.name.startsWith("data-"))).filter((e=>Boolean(e.value.trim()))).map((e=>`${e.name}=${e.value}`)).slice(0,5);return t.length>0?t:void 0},nn=(e,t)=>{const n=Array.from(e.attributes).filter((e=>t.includes(e.name))).filter((e=>Boolean(e.value.trim()))).map((e=>`${e.name}=${e.value}`));return n.length>0?n:void 0},rn=e=>{const t=e.id,n=e.tabIndex,r=e.getAttribute("name"),o=e.getAttribute("role");return{id:t,tabIndex:n,classNames:Array.from(e.classList).map((e=>N(e,100))).slice(0,10),name:r,role:o}},on=(e,t)=>t.matches(e)?t:t.closest(e),an=(e,t,n)=>on(`${e}[role="${t}"]`,n);var sn={handleAnchorInteraction:e=>{const t=window.location.pathname,{id:n,tabIndex:r,classNames:o,name:a,role:i}=rn(e),s=N(e.innerText,Qt),c=N(e.href,Qt),l=tn(e);window.track("hubspot-dot-com","interaction",{screen:t,type:"a",id:n,text:s,tabIndex:r,classNames:o,name:a,href:c,role:i,dataTypes:l})},handleButtonInteraction:e=>{const t=window.location.pathname,{id:n,tabIndex:r,classNames:o,name:a,role:i}=rn(e),s=N(e.innerText,Qt),c=tn(e);window.track("hubspot-dot-com","interaction",{screen:t,type:"button",id:n,text:s,tabIndex:r,classNames:o,name:a,role:i,dataTypes:c})},handleCustomInteraction:e=>{const t=window.location.pathname,{id:n,tabIndex:r,classNames:o,name:a,role:i}=rn(e),s=N(e.innerText,Qt),c=tn(e);window.track("hubspot-dot-com","interaction",{screen:t,type:e.tagName.toLowerCase(),id:n,text:s,tabIndex:r,classNames:o,name:a,role:i,dataTypes:c})},handleInputInteraction:e=>{const t=e.target,n=()=>{const e=t.closest("label[for]");return e&&e.innerText?N(e.innerText,Qt):""},r=()=>{const e=t.options[t.selectedIndex];return e&&e.innerText?N(e.innerText,Qt):""},o=window.location.pathname,{id:a,tabIndex:i,classNames:s,name:c,role:l}=rn(t),p=N(t.placeholder,Qt),u=n(),d=tn(t),g="SELECT"===t.tagName?r():void 0;window.track("hubspot-dot-com","form input interaction",{screen:o,type:t.tagName.toLowerCase(),id:a,tabIndex:i,classNames:s,label:u,name:c,placeholder:p,role:l,dataTypes:d,valueLabel:g})},handleFormSubmitInteraction:e=>{const t=window.location.pathname,{id:n,tabIndex:r,classNames:o,name:a,role:i}=rn(e),s=e.getAttribute("action"),c=nn(e,en),l=e.checkValidity(),p=e.querySelectorAll(".hs-input.invalid");window.track("hubspot-dot-com","form interaction",{screen:t,type:"form",action:s,id:n,tabIndex:r,classNames:o,name:a,role:i,dataTypes:c,successful:l&&0===p.length})}};var cn={iframeInteractions:e=>{if(e&&e.contentWindow){e.contentWindow.document.addEventListener("click",fn.interactionEventHandler);e.contentWindow.document.addEventListener("focusout",fn.inputInteractionEventHandler)}},mutateAnchorHref:e=>{if(e.href&&e.href.startsWith(Xt)&&window.__utAnonId&&window.__utAnonId.length){const t=new URL(e.href);t.searchParams.set("uuid",window.__utAnonId);e.href=t.toString()}}};var ln={pageViewHandler:()=>{const e=window.location.pathname;window.track("hubspot-dot-com","pageview",{screen:e})},sectionViewHandler:e=>{const t=window.location.pathname,{id:n,classNames:r}=rn(e);window.track("hubspot-dot-com","section view",{screen:t,section:n,classNames:r})}};const pn=(e,t)=>{const n=(r,o)=>{r.forEach((r=>{r.nodeName.toLowerCase()===e&&t(o,r);r.childNodes.length>0&&n(r.childNodes,o)}))},r=new MutationObserver((e=>{for(const t of e)if("childList"===t.type){n(t.addedNodes,"added");n(t.removedNodes,"removed")}}));r.observe(document.body,{childList:!0,subtree:!0});return r},un=e=>Boolean(e.src&&new URL(e.src).origin===window.location.origin),dn=[["a",sn.handleAnchorInteraction],["button",sn.handleButtonInteraction]],gn=[["div",["button","tab","checkbox","option"]],["li",["button","tab"]],["span",["button","tab"]]],mn=["input","select","textarea"];var fn={interactionEventHandler:e=>{const t=e.target;for(const[e,n]of dn){const r=on(e,t);if(null!==r)return n(r)}for(const[e,n]of gn)for(const r of n){const n=an(e,r,t);if(null!==n)return sn.handleCustomInteraction(n)}},inputInteractionEventHandler:e=>{const t=e.target;if(mn.includes(t.tagName.toLowerCase()))return sn.handleInputInteraction(e)},formSubmitEventHandler:()=>{[...document.querySelectorAll("form")].forEach((e=>e.addEventListener("submit",(e=>sn.handleFormSubmitInteraction(e.currentTarget)))));pn("form",((e,t)=>{"added"===e&&null!==t&&t.addEventListener("submit",(e=>sn.handleFormSubmitInteraction(e.currentTarget)))}))},iframeInteractionEventHandler:()=>{[...document.querySelectorAll("iframe")].filter(un).forEach(cn.iframeInteractions);pn("iframe",((e,t)=>{"added"===e&&un(t)&&cn.iframeInteractions(t)}))},anchorObserveEventHandler:()=>{pn("a",((e,t)=>{"added"===e&&t.href&&t.href.length&&cn.mutateAnchorHref(t)}))},sectionObserverEventHandler:()=>{const e=new IntersectionObserver((t=>{t.filter((e=>e.isIntersecting)).forEach((t=>{e.unobserve(t.target);ln.sectionViewHandler(t.target)}))}));[...document.querySelectorAll(Zt)].filter((e=>e.offsetHeight>1)).forEach((t=>e.observe(t)))}};const hn=()=>{const e=document.querySelector(Yt);return(null==e?void 0:e.getAttribute("content"))||void 0},yn=()=>{const e=hn(),{device_id:t}=Ae(jt.getItem,jt.setItem,{currentTime:Date.now(),deviceId:e});return t},bn=e=>new URLSearchParams(e.search).get("uuid")||void 0,vn=e=>{try{const t=Le($t.getItem);t&&t.device_id===e&&$t.removeItem(z)}catch(e){}jt.removeItem(z)};var wn={init:(e,{history:{location:t},storeUuidOnUrl:n})=>{const r=Gt(e),o=n?bn(t):void 0;r.setProperties({deviceId:o||Ht(jt)});return r},switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if(!0===r){let e=bn(t);(void 0===e||e.length>64)&&(e=Ht(jt));const r=new URLSearchParams(t.search);r.set("uuid",e);n(`${t.pathname}?${r}`)}}},On=Promise.resolve(null),En={get:Dt};const kn=En.get(),In=je("app"),_n="/login-verify/hub-user-info",Sn={user:{email:null},portal:{portal_id:null}};var xn=()=>fetch(`${In}${_n}${kn?`?portalId=${kn}`:""}`,{headers:{Accept:"application/json"}}).then((e=>e.json())).catch((()=>Sn));const Tn=(e=!0)=>xn({ignoreRedirect:!0,cached:e}).then((({portal:e})=>e.portal_id)).catch((()=>null)),jn=()=>Promise.resolve(On.Info).then(On).catch(Ct.getLang),$n=T(((e=!0)=>xn({ignoreRedirect:!0,cached:e}).then((({user:e})=>e.email)).catch((()=>null)))),Pn=T(Tn),Nn=T(jn),Dn=je("app-api"),Hn="/usage-logging/v1/log/hublytics-multi/no-auth",Un=e=>Ct.reportError(e,{fingerprint:["usage-tracker-js","network"]});const Ln=St({clientName:"app",getDebug:Ct.getDebug,getHstc:Ct.getHstc,getTempStorage:Ct.getTempStorage,setTempStorage:Ct.setTempStorage,logWarning:Ct.logWarning,logError:Ct.logError,reportWarning:Ct.reportWarning,reportError:Ct.reportError,getEmail:$n,getHubId:Pn,getLang:Nn,send:({events:e,query:t="",onFailure:n})=>{const r=`${Dn}${Hn}?${t}`,o=e=>{Un(e);f(n)()},a=()=>{At(r,{data:e}).catch(o)};Ct.sendBeacon(r,e,a)}}).createTracker;var Wn={init:e=>Ln(e),switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if((void 0===e||"anonymous"===e)&&!0===r){const e=new URLSearchParams(t.search),r=bn(t);if(void 0!==r){vn(r);e.delete("uuid");n(`${t.pathname}?${e}`)}}}};const Cn=(e=2e3)=>new Promise((t=>{let n=0,r=0;const o=()=>{const e=Ct.getHstc();if(e){clearTimeout(r);clearInterval(n);t(e)}};n=setInterval(o,100);r=setTimeout((()=>{clearInterval(n);t(void 0)}),e);o()})),An=je("app-api"),Rn="/usage-logging/v1/log/hublytics-multi/no-auth",qn=e=>Ct.reportError(e,{fingerprint:["usage-tracker-js","network"]});var Bn=St({clientName:"public",getDebug:Ct.getDebug,getLang:Ct.getLang,getTempStorage:Ct.getTempStorage,setTempStorage:Ct.setTempStorage,logWarning:Ct.logWarning,logError:Ct.logError,reportWarning:Ct.reportWarning,reportError:Ct.reportError,getHstc:Cn,getEmail:()=>null,getHubId:()=>null,send:({events:e,query:t="",onFailure:n})=>{const r=`${An}${Rn}?${t}`,o=e=>{qn(e);f(n)()},a=()=>{At(r,{data:e}).catch(o)};Ct.sendBeacon(r,e,a)}});const Vn={allowUnauthed:!0,isExternalHost:!ue,events:void 0},Jn=e=>{const t=O(e||Vn,Vn);return Bn.createTracker(t)};const Mn={anonymous:wn,authed:Wn,public:{init:e=>Jn(e),switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if((void 0===e||"anonymous"===e)&&!0===r){const e=new URLSearchParams(t.search),r=bn(t);if(void 0!==r){vn(r);e.delete("uuid");n(`${t.pathname}?${e}`)}}}}},Kn=["trackerType","onBeforeSwitch"],zn={history:((e=m)=>{const t="object"==typeof e&&"object"==typeof e.history,n=()=>t&&e.history.state&&e.history.state.state||{};return{get location(){return t?{pathname:e.location.pathname,search:e.location.search,hash:e.location.hash,state:n(),key:n().key||""}:{pathname:"",search:"",hash:"",state:n(),key:n().key||""}},replace:(n,r={})=>{t&&e.history.replaceState(Object.assign({},r),"","string"==typeof n?`${e.location.origin}${n}`:n.toString())},push:(n,r={})=>{t&&e.history.pushState(Object.assign({},r),"","string"==typeof n?`${e.location.origin}${n}`:n.toString())}}})(),storeUuidOnUrl:!0},Fn=(t={})=>{let n;const r={trackerType:"public",events:void 0,onBeforeSwitch:()=>null},{history:o,storeUuidOnUrl:a}=O(t||{},zn);return{createTracker:t=>{const i=O(t||{},r),{trackerType:s,onBeforeSwitch:c}=i,l=e(i,Kn),p=Mn[s];n!==s&&f(c)({from:n,to:s});p.switch(n,{history:o,storeUuidOnUrl:a});const u=p.init(l,{history:o,storeUuidOnUrl:a});n=s;return u}}},Gn=()=>Boolean(En.get()),Qn=e=>Gn()?"authed":e&&e.length?"public":"anonymous",Yn=e=>setInterval((()=>e(Nt())),200),Xn=()=>{if("function"==typeof(null==m?void 0:m.createTracker))return;const e=Fn({storeUuidOnUrl:!1}),t={trackers:new Map,type:Qn(Ct.getHstc())},n=n=>{if(n.trackerName&&n.trackerName.length){const{track:r}=e.createTracker(Object.assign({},n,{events:n.events||{},trackerType:t.type,standalone:!0}));t.trackers.set(n.trackerName,{config:n,instance:r});return{track:(...e)=>t.trackers.get(n.trackerName).instance(...e)}}throw new Error('"createTracker" requires a "trackerName" property')};Yn((e=>{const n=Qn(e);if(n!==t.type){t.type=n;t.trackers.forEach((({config:e})=>{m.createTracker(e)}))}}));"object"==typeof m&&(m.createTracker=n)};Xn(),n(1);(e=>{const{track:t}=globalThis.createTracker(Object.assign({events:{}},e));globalThis.track=t;globalThis.trackWhenAuthed=t})({trackerName:"hubspot-dot-com",properties:{hstc:()=>`x.${Nt()?Nt():yn()}`},omitProperties:[...Mt,"email","userId","hubId"],onBeforeSwitch:({to:e})=>{window.__utAnonId="anonymous"===e?yn():Ht();document.querySelectorAll("a").forEach(cn.mutateAnchorHref)}});document.addEventListener("DOMContentLoaded",(()=>{ln.pageViewHandler()}));document.addEventListener("focusout",fn.inputInteractionEventHandler,{passive:!0});document.addEventListener("mouseup",fn.interactionEventHandler);fn.formSubmitEventHandler();fn.anchorObserveEventHandler();fn.iframeInteractionEventHandler();fn.sectionObserverEventHandler()}()}();