(()=>{"use strict";new DOMParser;class e{static get styleId(){return"cl-fixed-element-style"}static get attributes(){return{wrapper:"data-cl-fixed-element-wrapper",element:"data-cl-fixed-element",isFixed:"data-cl-fixed-element-is-fixed"}}static get selectors(){return{wrapper:`[${e.attributes.wrapper}]`,element:`[${e.attributes.element}]`,isFixed:`[${e.attributes.isFixed}]`}}constructor(){let t=document.getElementById(e.styleId);t||((t=document.createElement("style")).id=e.styleId,document.head.append(t)),this.style=t}mount(){this.wrappers=document.querySelectorAll(`${e.selectors.wrapper}:has(${e.selectors.element})`),this.wrappers.length&&(this.elements=document.querySelectorAll(e.selectors.wrapper+" "+e.selectors.element),this.style.textContent=[""+e.selectors.element+e.selectors.isFixed+"{position: fixed;inset-inline: 0;z-index: 50;}"].join(""),window.removeEventListener("scroll",this.updatePositions),window.removeEventListener("resize",this.debouncedUpdatePositions),window.addEventListener("scroll",this.updatePositions),window.addEventListener("resize",this.debouncedUpdatePositions))}updatePositions=()=>{this.elements.forEach(((t,s)=>{var i=this.wrappers[s],n=i.getBoundingClientRect(),r=t.getBoundingClientRect();s=this.calculateTop(s),n.top-s<=0?(i.style.height=r.height+"px",t.setAttribute(e.attributes.isFixed,""),t.style.top=Math.max(s,0)+"px"):(i.style.height="",t.removeAttribute(e.attributes.isFixed),t.style.top="")}))};debouncedUpdatePositions=((e,t=0,s={leading:!1})=>{let i=null,n=s.leading,r=!0;return(...l)=>{!i&&n&&(e(...l),n=!1,r=!1),i&&(clearTimeout(i),r=!0),i=setTimeout((()=>{r&&e(...l),i=null,n=s.leading,r=!0}),t)}})(this.updatePositions,300);calculateTop(e){let t=0;for(let s=0;s<e;s++)t+=this.wrappers[s].offsetHeight;return t}}(new e).mount()})();
//# sourceURL=https://53.fs1.hubspotusercontent-na1.net/hubfs/53/hub_generated/template_assets/1/184970967646/1736935107785/template_fixed-elements.load.js