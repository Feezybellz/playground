var module_149491929640=void(()=>{"use strict";(()=>{const js_inlineSvg=(e,t)=>{(e=document.querySelectorAll(e)).forEach((r=>fetch(r.dataset.src).then((e=>e.text())).then((e=>{var t=r;e=(new DOMParser).parseFromString(e,"image/svg+xml").querySelector("svg"),t.id&&(e.id=t.id),t.className&&e.classList&&(e.classList=t.classList),t.parentNode&&t.parentNode.replaceChild(e,t)})).then(t).catch((e=>console.error(e)))))},js_icons=()=>{try{var e;document.querySelector(".cl-svg-map")||((e=document.createElement("img")).dataset.src="https://www.hubspot.com/hubfs/assets/hs-components/v3/icons/icons.svg",e.style.display="none",e.classList.add("cl-svg-map"),document.head.appendChild(e),js_inlineSvg(".cl-svg-map"))}catch(e){console.error(e)}return".cl-svg-map"};class EventBinder{listenerMap=null;constructor(){this.listenerMap=new Map}on(e,t,n){let s=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e="string"==typeof e?[e]:e;let i=this.listenerMap.get(t);i||(i={},this.listenerMap.set(t,i)),e.forEach((e=>{i[e]=i[e]||[],-1===i[e].indexOf(n)&&i[e].push(n),t.addEventListener(e,n,s)}))}off(e,n,s){e="string"==typeof e?[e]:e;let i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];"boolean"==typeof s&&(i=s);const o=this.listenerMap.get(n)||{};e.forEach((t=>{"function"==typeof s?n.removeEventListener(t,s,i):(o[t]||[]).forEach((e=>{n.removeEventListener(t,e,i)}))}))}unbindAll(){this.listenerMap.forEach(((e,t)=>{e=Object.keys(e),this.off(e,t,!0),this.off(e,t,!1)}))}destroy(){this.unbindAll(),delete this.listenerMap}}class EventHandler{constructor(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.events=t,this.hop=t.hasOwnProperty}on(t,e){Array.isArray(t)&&t.forEach((t=>this.on(t,e))),this.hop.call(this.events,t)||(this.events[t]=[]);const s=this.events[t].push(e)-1;return{remove(){delete this.events[t][s]}}}emit(t,e){Array.isArray(t)?t.forEach((t=>this.emit(t,e))):this.hop.call(this.events,t)&&this.events[t].forEach((t=>t(e||{})))}}const js_stringReplace=function(e,t){return e.replace(2<arguments.length&&void 0!==arguments[2]?arguments[2]:/%\w+%/g,(e=>t[e]))},getElementByIdOrSelector=function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).container;return function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).container,n=document.getElementById(e);return t instanceof Element&&!t.contains(n)?null:n}(e,{container:t})||function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).container;return(t instanceof Element?t:document.documentElement).querySelector(e)}(e,{container:t})},js_getElement=function(e){var{container:t,strict:n=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=t instanceof Element?t:document.documentElement;let o=null;if(e instanceof Element?o=t.contains(e)?e:null:"string"==typeof e&&(o=getElementByIdOrSelector(e,{container:t})),n&&!o)throw new Error("[getElement]: No element found.",{elementArgument:e,container:t});return o},prefix="[cl-pagination]",events={FIRST:prefix+" first",LAST:prefix+" last",PREV:prefix+" prev",NEXT:prefix+" next",CHANGE:prefix+" change"},selectors_label=".cl-pagination-label",selectors_arrowFirst=".cl-round-button.-first",selectors_arrowLast=".cl-round-button.-last",selectors_arrowNext=".cl-round-button.-next",selectors_arrowPrev=".cl-round-button.-prev",defaultSettings={label:"%currentPage% - %rowsPerPage% / %totalPages%",currentPage:1,rowsPerPage:10,totalPages:100},js_pagination=class{label;currentPage;rowsPerPage;totalPages;itemsOnLastPage;firstItemOnLastPage;element;labelElement;next;prev;first;last;binder;eventHandler;constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:defaultSettings,{label:t,currentPage:s,rowsPerPage:r,totalPages:i}={...defaultSettings,...t};this.label=t,this.currentPage=s,this.rowsPerPage=r,this.totalPages=i,this.itemsOnLastPage=i%r||r,this.firstItemOnLastPage=this.totalPages-this.itemsOnLastPage+1,this.element=js_getElement(e,{strict:!0}),this.labelElement=this.element.querySelector(selectors_label),this.next=this.element.querySelector(selectors_arrowNext),this.prev=this.element.querySelector(selectors_arrowPrev),this.first=this.element.querySelector(selectors_arrowFirst),this.last=this.element.querySelector(selectors_arrowLast),this.binder=new EventBinder,this.eventHandler=new EventHandler}mount(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];try{this.updateLabel(),this.updateArrows(),this.bindListeners(),e&&this.bindHandlers()}catch(e){console.error(prefix+": "+e)}}bindListeners(){this.binder.on("click",this.next,(()=>this.eventHandler.emit(events.NEXT))),this.binder.on("click",this.prev,(()=>this.eventHandler.emit(events.PREV))),this.binder.on("click",this.first,(()=>this.eventHandler.emit(events.FIRST))),this.binder.on("click",this.last,(()=>this.eventHandler.emit(events.LAST)))}bindHandlers(){this.onNext((()=>this.nextPage())),this.onPrev((()=>this.previousPage())),this.onFirst((()=>this.toFirst())),this.onLast((()=>this.toLast()))}updateLabel(){var e=Math.min(this.currentPage+this.rowsPerPage-1,this.totalPages);e={"%currentPage%":""+this.currentPage,"%rowsPerPage%":""+e,"%totalPages%":""+this.totalPages},e=js_stringReplace(this.label,e),this.labelElement.textContent=e}updateArrows(){var e=this.currentPage<=1,t=this.currentPage+this.rowsPerPage>this.totalPages;this.next.disabled=t,this.prev.disabled=e,this.first.disabled=e,this.last.disabled=t}nextPage(){var e=Math.min(this.currentPage+this.rowsPerPage,this.firstItemOnLastPage);this.toPage(e)}previousPage(){var e=Math.max(1,this.currentPage-this.rowsPerPage);this.toPage(e)}toFirst(){this.toPage(1)}toLast(){this.toPage(this.firstItemOnLastPage)}toPage(e){this.currentPage!==e&&(this.currentPage=e,this.updateLabel(),this.updateArrows(),this.eventHandler.emit(events.CHANGE,{value:e}))}on(e,t){return this.eventHandler.on(e,t),this}onNext(e){this.on(events.NEXT,e)}onPrev(e){this.on(events.PREV,e)}onFirst(e){this.on(events.FIRST,e)}onLast(e){this.on(events.LAST,e)}onChange(e){this.on(events.CHANGE,e)}destroy(){this.binder.destroy()}};js_icons();const preloadedImages=new Set,preloadCount=3,PRELOAD_DIRECTION={FORWARD:"forward",BACKWARD:"backward"};function preloadImages(newPage,preloadDirection,slides){let slidesToPreload;if(preloadDirection===PRELOAD_DIRECTION.BACKWARD){let startIndex=newPage-preloadCount-1;startIndex<0&&(startIndex=0),slidesToPreload=slides.slice(startIndex,newPage-1).reverse()}else slidesToPreload=slides.slice(newPage,newPage+preloadCount);slidesToPreload.forEach((slide=>{preloadedImages.has(slide.image.url)||((new Image).src=slide.image.url,preloadedImages.add(slide.image.url))}))}const sliderElements=document.querySelectorAll(".slides-slider-wrapper");sliderElements.length?sliderElements.forEach((slider=>{!function(slider){const slidesData=slider.dataset.slides;if(!slider||!slidesData)return void console.error("No slides data found in slider");let slides;try{const slidesDataAttributeReplaced=slidesData.replace(/%22/g,'"');slider.removeAttribute("data-slides"),slides=JSON.parse(slidesDataAttributeReplaced).objects}catch(error){return void console.error("Failed to parse slideshow data:",error)}let currentPage=1;const paginationElement=slider.querySelector(".slides-slider-pagination");if(!paginationElement)return void console.error("No pagination element found in slider");const pagination=new js_pagination(`#${paginationElement.id}`,{label:"%currentPage% / %totalPages%",currentPage:currentPage,rowsPerPage:1,totalPages:slides.length});pagination.mount(),preloadImages(pagination.currentPage,PRELOAD_DIRECTION.FORWARD,slides);const imageElement=slider.querySelector(".slides-slider-image");if(!imageElement)return void console.error("No image element found in slider element");const transcriptElement=slider.querySelector(".slides-slider-transcript-text");pagination.onChange((_ref=>{let preloadDirection,{value:newPage}=_ref;const isLastPage=newPage===pagination.totalPages;preloadDirection=1===newPage||currentPage<=newPage&&!isLastPage?PRELOAD_DIRECTION.FORWARD:PRELOAD_DIRECTION.BACKWARD,preloadImages(newPage,preloadDirection,slides),imageElement.src=slides[newPage-1].image.url,transcriptElement&&(transcriptElement.innerHTML=slides[newPage-1].transcript),currentPage=newPage}));const imageWrapper=slider.querySelector(".slides-slider-image-wrapper");if(!imageWrapper)return void console.error("No image wrapper found in slider");const nextButton=imageWrapper.querySelector(".slider-lateral-button.-next"),prevButton=imageWrapper.querySelector(".slider-lateral-button.-prev");nextButton&&nextButton.addEventListener("click",(()=>{pagination.nextPage()})),prevButton&&prevButton.addEventListener("click",(()=>{pagination.previousPage()})),imageElement.addEventListener("click",(()=>{document.fullscreenElement&&pagination.nextPage()}));const expandButton=slider.querySelector(".cl-round-button.-expand");expandButton?(expandButton.addEventListener("click",(()=>{try{slider.querySelector(".expandable-image").requestFullscreen()}catch(error){console.error("Failed to enter fullscreen mode:",error)}})),document.addEventListener("keydown",(event=>{(slider.contains(document.activeElement)||document.fullscreenElement)&&("ArrowRight"===event.key?pagination.nextPage():"ArrowLeft"===event.key&&pagination.previousPage())}))):console.error("No expand button found in slider")}(slider)})):console.error("No slider components found")})()})();